dist: trusty
sudo: false
language: python
python:
- '3.6'
cache:
  pip: true
deploy:
  provider: releases
  api_key: "$GITHUB_TOKEN"
  file_glob: true
  file: "$TRAVIS_BUILD_DIR/bundles/*"
  skip_cleanup: true
  overwrite: true
  on:
    tags: true
- provider: pypi
  user: adafruit-travis
  on:
    tags: true
  password:
    secure: Ot0hX/ctHMOXwWMBNtzTWWP5V5aCw3XRJYtaJL0+WKUMiD/zgdMCkqWdyxtyWtcIihNRVxZOU7atnyp/8F3EkuKjfZuoMAe8ulM425eOUGoYli9qvodx7MybXdi32IJidUel7g7rw4WY3Kt+UdmQWjNFv/LRPO9QwOc9mJn/b7asHyQtgHVukuy/ZThSCObarbX4nNqgQsnjy+GqafcZIrxnCLZfHiZ5SvMw/tIAZKhxmCWngB7BSGm1MJ8+HPQ3xVJOnEP8yPJisDHPygwMD81w5MK6nyTOWMG7U9JzuMZPig7yLDr1/uy/0HFL7omwGArUjEwsTt6W9eUMXiXUKgVMAt9RQimfVlFbdvN1d3ej1wIB+KtwQR/uTb2Ve42OaSM9hATstxNzc8vDJ5IZAXc1NFgn9p/hlxQkvrKWJba1Y+j0rLHbkaPPXLe5YNaM+yISt04A7ZBy9rJ8toX3qe1xiEdaIjmpCXTGR6OWi3d/xuUEAgIQPd5+LLtLF0uKyGQkbls6MKTPctVkaT44AjvLHU/r0zMoXOhNhUTdz4v5h9WjD8cBMvZwX+yx0Rct2KTcOeeqXi8OInTXjouicFNI2J4yU5fV210yFlvDfdd0BIbQAuU0rzF4kwkALJQdHstaB3Al/pCNqc7Fp8W8miz65sAKTU7YsGlpvpOQ2iA=
install:
- pip install -r requirements.txt
- pip install circuitpython-build-tools Sphinx sphinx-rtd-theme
- pip install --force-reinstall pylint==1.9.2
script:
- pylint adafruit_mcp3xxx/*.py
- ([[ ! -d "examples" ]] || pylint --disable=missing-docstring,invalid-name,bad-whitespace
  examples/*.py)
- circuitpython-build-bundles --filename_prefix adafruit-circuitpython-mcp3xxx --library_location
  .
- cd docs && sphinx-build -E -W -b html . _build/html && cd ..
